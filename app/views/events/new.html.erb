<% provide(:title, 'Book a space') %>

<h1>Book a space</h1>


<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <%= form_for(@event) do |f| %>
     <%= render 'shared/error_messages', object: f.object %>

<div class="btn-group form-group" data-toggle="buttons">
  <label class="btn btn-primary active">
    <%= f.label :appointment %>
    <%= radio_button_tag(:event_type, :appointment, autocomplete: 'off') %>
  </label>
  <label class="btn btn-primary">
    <%= f.label :workshop %>
    <%= radio_button_tag(:event_type, :workshop, autocomplete: 'off') %>
  </label>
  <label class="btn btn-primary">
    <%= f.label :training %>
    <%= radio_button_tag(:event_type, :training, autocomplete: 'off') %>
  </label>
</div>
<div class="form-group">
  <%= f.label :name %>
  <%= f.text_field :event_name, class: 'form-control' %>
</div>

      <%= f.fields_for :space_entries do |ff| %>
        <%= ff.label :start_time %>
        <%= ff.datetime_select :start_time %>

        <%= ff.label :end_time %>
        <%= ff.datetime_select :end_time%>

        <%= ff.label :space %>
        
        <%= ff.select(:space_id, current_user.venue.spaces.collect {|p| [ p.name, p.id ] }, {include_blank: true}, {class: 'form-control'})%>

      <% end %>  
      <%= f.submit "Add appointment", class: "btn btn-primary" %>

    <% end %>

    <script type="text/javascript">
        $(function () {
          $('#event_space_entries_attributes_0_start_time').datetimepicker();
          $('#event_space_entries_attributes_0_end_time').datetimepicker();
        });
    </script>
        

  </div>
</div>

<%= link_to 'Back', spaces_path %>
